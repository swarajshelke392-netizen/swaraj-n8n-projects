{
  "name": "RAG_Agent_Using_Supabase",
  "nodes": [
    {
      "parameters": {
        "options": {
          "systemMessage": "You are a helpful assistant,\nuse the supabase tool to read the Tagreted document and answer the user based on that,\n\nalso if user asks to send emails to anyone use the Gmail tool to send messages\n\n“Output the email content in plain text only — do not use Markdown, bold formatting, stars (*), or symbols for emphasis.”"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        208,
        16
      ],
      "id": "1cd98b8c-72b0-4e85-9d01-b93f90349246",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": "openai/gpt-oss-20b",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGroq",
      "typeVersion": 1,
      "position": [
        112,
        208
      ],
      "id": "b13358a1-4bb1-42a9-a51d-7e3f513b8009",
      "name": "Groq Chat Model",
      "credentials": {
        "groqApi": {
          "id": "rOnXlKFaDo9toQZY",
          "name": "Groq 1"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "typeVersion": 1.3,
      "position": [
        272,
        208
      ],
      "id": "36357a63-80c3-45a4-8bf3-ec86344179ab",
      "name": "Postgres Chat Memory",
      "credentials": {
        "postgres": {
          "id": "ttz84HMHEpvkLdnj",
          "name": "Postgres 1"
        }
      }
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolDescription": "use this to get information about the AI Automation Form",
        "tableName": {
          "__rl": true,
          "value": "documents",
          "mode": "list",
          "cachedResultName": "documents"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "typeVersion": 1.3,
      "position": [
        592,
        176
      ],
      "id": "88981bfb-c765-4e17-9f58-53198bbf7db7",
      "name": "Supabase Vector Store",
      "credentials": {
        "supabaseApi": {
          "id": "CCTPNsT3buIU4kf2",
          "name": "Supabase 1"
        }
      }
    },
    {
      "parameters": {
        "operation": "download",
        "fileId": {
          "__rl": true,
          "value": "1b9KpCklVR_33HktMtIvE1rSnxxTKg2JevIKRcwAFS_A",
          "mode": "list",
          "cachedResultName": "AI Automation Onboarding Form (Example)",
          "cachedResultUrl": "https://docs.google.com/document/d/1b9KpCklVR_33HktMtIvE1rSnxxTKg2JevIKRcwAFS_A/edit?usp=drivesdk"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        -112,
        464
      ],
      "id": "a8618e79-dc02-4a86-866e-7f0050b1cc48",
      "name": "Download file",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "ZS9GDGfRCTRU7iEf",
          "name": "Google swaraj"
        }
      }
    },
    {
      "parameters": {
        "mode": "insert",
        "tableName": {
          "__rl": true,
          "value": "documents",
          "mode": "list",
          "cachedResultName": "documents"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "typeVersion": 1.3,
      "position": [
        96,
        464
      ],
      "id": "a3375063-3b09-42c3-b0f2-eaed73e05ecd",
      "name": "Supabase Vector Store1",
      "credentials": {
        "supabaseApi": {
          "id": "CCTPNsT3buIU4kf2",
          "name": "Supabase 1"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.embeddingsGoogleGemini",
      "typeVersion": 1,
      "position": [
        80,
        656
      ],
      "id": "bccfab31-c410-4598-8a70-57d9c2733533",
      "name": "Embeddings Google Gemini",
      "credentials": {
        "googlePalmApi": {
          "id": "8xLfiS3K5P7sNaFT",
          "name": "Google Gemini(PaLM) 1"
        }
      }
    },
    {
      "parameters": {
        "dataType": "binary",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "typeVersion": 1.1,
      "position": [
        256,
        656
      ],
      "id": "90206d87-986a-4e08-8a23-c91cc9307140",
      "name": "Default Data Loader"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.4,
      "position": [
        16,
        16
      ],
      "id": "aca6f809-d2df-408c-863e-e8ea54c2a3f8",
      "name": "chat",
      "webhookId": "be8e94fe-d605-4f98-b5b3-7819cb3ecfe6"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.embeddingsGoogleGemini",
      "typeVersion": 1,
      "position": [
        688,
        320
      ],
      "id": "e24550b1-c709-43cb-83ea-9b2292f6870e",
      "name": "Embeddings Google Gemini1",
      "credentials": {
        "googlePalmApi": {
          "id": "8xLfiS3K5P7sNaFT",
          "name": "Google Gemini(PaLM) 1"
        }
      }
    },
    {
      "parameters": {
        "sendTo": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('To', ``, 'string') }}",
        "subject": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Subject', ``, 'string') }}",
        "emailType": "text",
        "message": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message', `always end with \"Swaraj\"`, 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        464,
        224
      ],
      "id": "0515e406-6d5b-4d16-91e3-748984c59bfb",
      "name": "Send a message in Gmail",
      "webhookId": "73aacde0-d99e-4f5a-9285-af693f65f116",
      "credentials": {
        "gmailOAuth2": {
          "id": "EORluQzvIFLBvSVg",
          "name": "Gmail swaraj"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "Groq Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Postgres Chat Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Supabase Vector Store": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Download file": {
      "main": [
        [
          {
            "node": "Supabase Vector Store1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings Google Gemini": {
      "ai_embedding": [
        [
          {
            "node": "Supabase Vector Store1",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Default Data Loader": {
      "ai_document": [
        [
          {
            "node": "Supabase Vector Store1",
            "type": "ai_document",
            "index": 0
          }
        ]
      ]
    },
    "chat": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings Google Gemini1": {
      "ai_embedding": [
        [
          {
            "node": "Supabase Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Send a message in Gmail": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "e0490317-2b37-46ef-b190-12a1fd2a2a36",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "2b99629a96d1feaa6646aabbd2e9fbe5b4db922509dc36b3d3d1cc0f0838ab88"
  },
  "id": "cOWGudOW8rk3Jxr8",
  "tags": []
}